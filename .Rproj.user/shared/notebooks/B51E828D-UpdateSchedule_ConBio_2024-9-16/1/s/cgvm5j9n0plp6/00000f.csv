"0","holidays <- c("
"0","              ymd_hm(paste(""2024-09-02"", params$time), tz = ""America/Chicago""),"
"0","              ymd_hm(paste(""2024-10-21"", params$time), tz = ""America/Chicago""),"
"0","              ymd_hm(paste(""2024-10-22"", params$time), tz = ""America/Chicago""),"
"0","              ymd_hm(paste(""2024-11-26"", params$time), tz = ""America/Chicago""),"
"0","              ymd_hm(paste(""2024-11-27"", params$time), tz = ""America/Chicago""),"
"0","              ymd_hm(paste(""2024-11-28"", params$time), tz = ""America/Chicago""),"
"0","              ymd_hm(paste(""2024-11-29"", params$time), tz = ""America/Chicago""))"
"0",""
"0","nweeks       <- as.numeric(interval(params$semstart, params$finals), unit = ""days"")/7"
"0","course_start <-        ymd_hm(paste(params$semstart, params$time), tz = ""America/Chicago"")"
"0",""
"0","schedule_df <- expand.grid("
"0","  Week             = 1:nweeks,"
"0","  Date             = params$daysweek,"
"0","  stringsAsFactors = FALSE"
"0",") %>%"
"0","  mutate("
"0","    Date        = course_start + weeks(Week - 1) + days(Date)"
"0","  ) %>%"
"0","  arrange(Date) %>%"
"0","  group_by(Week) %>%"
"0","  mutate(day_week = row_number()) %>%"
"0","  ungroup()"
"0",""
"0","schedule_conbio <- read.recent.version.csv(""data"", ""ScheduleConBioF24_"") %>%"
"0","  left_join(schedule_df) %>%"
"0","   mutate(row_shade = case_when(Week == 1  ~ ""#EBDDC34D"","
"0","                                Week == 2  ~ ""#775F554D"","
"0","                                Week == 3  ~ ""#94B6D24D"","
"0","                                Week == 4  ~ ""#DD80474D"","
"0","                                Week == 5  ~ ""#A5AB814D"","
"0","                                Week == 6  ~ ""#D8B25C4D"","
"0","                                Week == 7  ~ ""#7BA79D4D"","
"0","                                Week == 8  ~ ""#968C8C4D"","
"0","                                Week == 9  ~ ""#EBDDC34D"","
"0","                                Week == 10 ~ ""#775F554D"","
"0","                                Week == 11 ~ ""#94B6D24D"","
"0","                                Week == 12 ~ ""#DD80474D"","
"0","                                Week == 13 ~ ""#A5AB814D"","
"0","                                Week == 14 ~ ""#D8B25C4D"","
"0","                                Week == 15 ~ ""#7BA79D4D"","
"0","                                Week == 16 ~ ""#968C8C4D"")) %>%"
"0","  mutate(row_shade  = if_else(str_detect(Topic, "".+Exam.+""), ""black"", row_shade)) %>%"
"0","  mutate(Topic = ifelse(Date %in% holidays, ""No Class"", Topic)) %>%"
"0","  ungroup() %>%"
"0","  arrange(Date) %>%"
"0","  mutate(AssignedPages = ReadEnd - ReadStart,"
"0","         LecturePages  = PlanEnd - PlanStart) %>%"
"0","  mutate(Due = if_else("
"0","           is.na(ReadCh), """","
"0","           str_glue(""Read Ch "", ""{ReadCh}"", "" - pgs "", ""{ReadStart}"", ""-"", ""{ReadEnd}"", fixed("" <em>(""), ""{AssignedPages}"", fixed("" pp)</em>"")))) %>%"
"0","  mutate(Due = case_when("
"0","            is.na(SkillsAssignment) ~ Due,"
"0","           !is.na(SkillsAssignment) & Due == """" ~ str_glue(""Submit Skills Assignment "", ""{SkillsAssignment}""),"
"0","           !is.na(SkillsAssignment) & Due != """" ~ str_glue(""{Due}"", ""<br>& "", ""Submit Skills Assignment "", ""{SkillsAssignment}""))) %>%"
"0","  mutate(Prep_icon = case_when("
"0","    Due    == """"                               ~ """","
"0","     is.na(ReadCh)  & !is.na(SkillsAssignment) ~ ""pencil"","
"0","    !is.na(ReadCh)  & !is.na(SkillsAssignment) ~ ""book,pencil"","
"0","    !is.na(ReadCh)  &  is.na(SkillsAssignment) ~ ""book""),"
"0","    Week          = if_else("
"0","    Week          != lag(Week) | row_number() == 1, as.character(Week), """"),"
"0","    Date          = as_date(Date)) %>%"
"0","  mutate(stub = if_else("
"0","      Date < today(), ""calendar-check"", ""calendar"""
"0","  )) %>%"
"0","  select(stub           ,"
"0","         Week           ,"
"0","         Theme          ,"
"0","         Date           ,"
"0","         Topic          ,"
"0","         Prep_icon      ,"
"0","         Due            ,"
"0","         row_shade   )"
"1","[38;5;232mJoining with `by = join_by(Week, day_week)`[39m
"
"0","schedule_gt_conbio <- schedule_conbio %>% "
"0","  "
"0","  gt(groupname_col = ""Theme"") %>%"
"0","  "
"0","                   rows_add(Date          = as_date(""2024-12-19""),"
"0","                            stub          = ""calendar"","
"0","                            Week          = """","
"0","                            Topic         = ""5:00 PM - Final Exam"","
"0","                            row_shade     = ""black"","
"0","                            Prep_icon     = """","
"0","                            Due           = """")  %>%"
"0","                  "
"0","                   fmt_markdown(columns   = Due) %>%"
"0","  "
"0","  tab_footnote(md(""Details will be available through Canvas Assignments. You will also submit your assignment by 4:00 PM on the deadline through Canvas Assignments.""), locations = cells_body(columns = Due,"
"0","                                       rows    = Prep_icon == ""pencil"" | Prep_icon == ""book,pencil"")) %>%"
"0","  "
"0","                   fmt_icon(columns       = Prep_icon,"
"0","                            rows          = Prep_icon != """","
"0","                            sep           = ""  "","
"0","                            height        = ""1.2em"")  %>%"
"0","  "
"0","                   fmt_icon(columns       = stub)  %>%"
"0","  "
"0","                   fmt_date(columns       = Date,"
"0","                            date_style    = ""MMMEd"") %>%"
"0",""
"0","                  cols_label(stub      ~ """","
"0","                             Prep_icon ~ ""Due"","
"0","                             Due       ~ """","
"0","                             Week      ~ ""Wk"") %>%"
"0","                  cols_move_to_start(columns = c(""Week"", ""stub"", ""Date"", ""Topic"", ""Prep_icon"")) %>%"
"0","                  opt_table_lines(extent = ""none"") %>%"
"0","                  tab_style(style = list("
"0","                                      cell_fill(color = from_column(""row_shade"")),"
"0","                                      cell_text(size      = ""small"","
"0","                                                weight    = ""bold"","
"0","                                                align     = ""left"","
"0","                                                v_align   = ""top"","
"0","                                                transform = ""uppercase"")),"
"0","                            locations = cells_body(columns = Week)) %>%"
"0","                      tab_style(style = list("
"0","                                      cell_fill(color       = from_column(""row_shade"")),"
"0","                                      cell_text(v_align     = ""top"","
"0","                                                align       = ""left"")),"
"0","                             locations = cells_body(columns = c(""stub"", ""Topic"", ""Prep_icon"", ""Due""),"
"0","                                                     rows = row_shade != ""black"")) %>%"
"0","                      tab_style(style = list("
"0","                                      cell_fill(color       = from_column(""row_shade"")),"
"0","                                      cell_text(v_align     = ""top"","
"0","                                                align       = ""left"","
"0","                                                color       = ""white"")),"
"0","                             locations = cells_body(columns = c(""stub"", ""Topic"", ""Prep_icon"", ""Due""),"
"0","                                                     rows = row_shade == ""black"")) %>%"
"0","  "
"0","                      tab_style(style = list("
"0","                                      cell_fill(color        = from_column(""row_shade"")),"
"0","                                      cell_text(stretch      = ""condensed"","
"0","                                                size         = ""small"","
"0","                                                transform    = ""uppercase"","
"0","                                                weight       = ""bolder"","
"0","                                                align        = ""left"","
"0","                                                v_align      = ""top"")),"
"0","                              locations = cells_body(columns = Date,"
"0","                                                     rows = row_shade != ""black"")) %>%"
"0","  "
"0","                    tab_style(style = list("
"0","                                      cell_fill(color     = from_column(""row_shade"")),"
"0","                                      cell_borders(sides  = c(""top"", ""bottom"")),"
"0","                                      cell_text(weight    = ""bolder"","
"0","                                                size      = ""small"","
"0","                                                align     = ""left"","
"0","                                                v_align   = ""top"","
"0","                                                style     = ""oblique"","
"0","                                                transform = ""uppercase"","
"0","                                                color     = ""white"")),"
"0","                              locations = cells_body(rows = row_shade == ""black"")) %>%       "
"0","                    tab_style(style = list("
"0","                                          cell_text(style     = ""oblique"","
"0","                                                    transform = ""uppercase"","
"0","                                                    align     = ""left"","
"0","                                                    size      = ""small"","
"0","                                                    weight    = ""bolder"")),"
"0","                              locations = cells_column_labels()) %>%"
"0","  "
"0","                   cols_align(align = ""center"", columns = c(""stub"", ""Prep_icon"")) %>%"
"0","                   "
"0","                   tab_header(title    = ""Course Schedule"","
"0","                              subtitle = md(""*Subject to change at any time*"")) %>%"
"0","                   tab_style(style = cell_text("
"0","                                       align   = ""left"","
"0","                                       weight  = ""bolder"","
"0","                                       size    = ""xx-large""),"
"0","                             locations = cells_title(groups = ""title"")) %>%"
"0","                   tab_style(style = list("
"0","                                  cell_borders(sides = ""bottom""),"
"0","                                  cell_text("
"0","                                       align   = ""left"","
"0","                                       stretch = ""ultra-expanded"")),"
"0","                             locations = cells_title(groups = ""subtitle"")) %>%"
"0","  "
"0","                  tab_style(style = list("
"0","                                      cell_fill(color = ""#775F55FF""),"
"0","                                      cell_borders(sides  = ""top""),"
"0","                                      cell_text(stretch   = ""ultra-expanded"","
"0","                                                color     = ""white"","
"0","                                                size      = ""small"","
"0","                                                indent    = px(8),"
"0","                                                style     = ""oblique"","
"0","                                                weight    = ""bolder"","
"0","                                                transform = ""uppercase"","
"0","                                                align     = ""left"")),"
"0","                             locations = cells_row_groups(groups = contains(""Foundations""))) %>%"
"0","                  tab_style(style = list("
"0","                                      cell_fill(color = ""#94B6D2FF""),"
"0","                                      cell_borders(sides  = ""top""),"
"0","                                      cell_text(stretch   = ""ultra-expanded"","
"0","                                                color     = ""white"","
"0","                                                size      = ""small"","
"0","                                                indent    = px(8),"
"0","                                                style     = ""oblique"","
"0","                                                weight    = ""bolder"","
"0","                                                transform = ""uppercase"","
"0","                                                align     = ""left"")),"
"0","                             locations = cells_row_groups(groups = contains(""Importance""))) %>%"
"0","                  tab_style(style = list("
"0","                                      cell_fill(color = ""#DD8047FF""),"
"0","                                      cell_borders(sides  = ""top""),"
"0","                                      cell_text(stretch   = ""ultra-expanded"","
"0","                                                color     = ""white"","
"0","                                                size      = ""small"","
"0","                                                indent    = px(8),"
"0","                                                style     = ""oblique"","
"0","                                                weight    = ""bolder"","
"0","                                                transform = ""uppercase"","
"0","                                                align     = ""left"")),"
"0","                             locations = cells_row_groups(groups = contains(""Threats""))) %>%"
"0","                  tab_style(style = list("
"0","                                      cell_fill(color = ""#A5AB81FF""),"
"0","                                      cell_borders(sides  = ""top""),"
"0","                                      cell_text(stretch   = ""ultra-expanded"","
"0","                                                color     = ""white"","
"0","                                                size      = ""small"","
"0","                                                indent    = px(8),"
"0","                                                style     = ""oblique"","
"0","                                                weight    = ""bolder"","
"0","                                                transform = ""uppercase"","
"0","                                                align     = ""left"")),"
"0","                             locations = cells_row_groups(groups = contains(""Approaches""))) %>%"
"0",""
"0","                   cols_hide(columns = c(""row_shade"")) %>%"
"0","                   cols_width("
"0","                              stub      ~ px(30),"
"0","                              Week      ~ px(30),"
"0","                              Date      ~ px(110),"
"0","                              Topic     ~ px(350),"
"0","                              Prep_icon ~ px(75),"
"0","                              Due       ~ px(300)) %>%"
"0","                   "
"0","                   tab_header(title    = ""Course Schedule"","
"0","                              subtitle = paste0(""Subject to change - last updated on "", today())) %>%"
"0","                   tab_style(style = cell_text("
"0","                                       align   = ""left"","
"0","                                       weight  = ""bolder"","
"0","                                       size    = ""xx-large""),"
"0","                             locations = cells_title(groups = ""title"")) %>%"
"0","                   tab_style(style = list("
"0","                                  cell_borders(sides = ""bottom""),"
"0","                                  cell_text("
"0","                                       align   = ""left"","
"0","                                       style   = ""italic"")),"
"0","                             locations = cells_title(groups = ""subtitle"")) %>%"
"0","                   tab_footnote(md(""You are responsible for in-class announcements and/or updates made on Canvas. Please keep your records organized.""),"
"0","                                locations = cells_title(groups = ""subtitle"")) %>%"
"0","                   tab_footnote(""You should come to class having already read that day's assigned pages."","
"0","                                locations = cells_column_labels(columns = Prep_icon)) %>%"
"0","                   tab_footnote("
"0","    ""You will take the exam in class and will be able to access hard-copy materials (i.e., hand-written or printed notes) but nothing electronic."","
"0","                                locations = cells_body(columns = ""Topic"","
"0","                                                       rows    = row_shade == ""black""))"
"0",""
"0","gtsave(schedule_gt_conbio, paste0(params$local, ""schedules/biol4120_schedule_F24.html""))"
"0","gtsave(schedule_gt_conbio, paste0(params$local, ""schedules/biol4120_schedule_F24.png""))"
"2","file:////var/folders/7b/k_3yc6s119774tlwwb71xglm0000gp/T//Rtmp0KB9xQ/file182995425d6e5.html screenshot completed
"
"0","schedule_gt_conbio"
